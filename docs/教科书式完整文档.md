# XingXing å¼•æ“ - æ•™ç§‘ä¹¦å¼å®Œæ•´æ–‡æ¡£

## ç›®å½•
1. [é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡](#ä¸€é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡)
2. [æ ¸å¿ƒæŠ€æœ¯æ ˆ](#äºŒæ ¸å¿ƒæŠ€æœ¯æ ˆ)
3. [ç³»ç»Ÿæ¶æ„è®¾è®¡](#ä¸‰ç³»ç»Ÿæ¶æ„è®¾è®¡)
4. [æ ¸å¿ƒæ¨¡å—åŠŸèƒ½è¯´æ˜](#å››æ ¸å¿ƒæ¨¡å—åŠŸèƒ½è¯´æ˜)
5. [æœ¬åœ°éƒ¨ç½²æ­¥éª¤](#äº”æœ¬åœ°éƒ¨ç½²æ­¥éª¤)
6. [å…³é”® API ç¤ºä¾‹](#å…­å…³é”®-api-ç¤ºä¾‹)
7. [æ‰©å±•å¼€å‘æŒ‡å—](#ä¸ƒæ‰©å±•å¼€å‘æŒ‡å—)

---

## ä¸€ã€é¡¹ç›®èƒŒæ™¯ä¸ç›®æ ‡

### 1.1 é¡¹ç›®ç®€ä»‹

**XingXingï¼ˆè¡Œæ˜Ÿå¼•æ“ï¼‰** æ˜¯ä¸€ä¸ªä¸“ä¸ºç‹¬ç«‹æ¸¸æˆå¼€å‘æ‰“é€ çš„ç°ä»£åŒ– 2D æ¸¸æˆå¼•æ“ã€‚è¯¥å¼•æ“é‡‡ç”¨ C++ ä½œä¸ºæ ¸å¿ƒè¯­è¨€å¼€å‘ï¼Œæ—¨åœ¨ä¸ºç‹¬ç«‹æ¸¸æˆå¼€å‘è€…å’Œæ¨¡ç»„ï¼ˆModï¼‰åˆ›ä½œè€…æä¾›ä¸€ä¸ªé€æ˜ã€é«˜æ•ˆã€æ˜“äºæ‰©å±•çš„åº•å±‚æ¡†æ¶ã€‚

### 1.2 é¡¹ç›®èµ·æº

XingXing å¼•æ“çš„åº•å±‚æ¶æ„æºè‡ªçŸ¥åçš„å¼€æºé¡¹ç›® [Hazel2D](https://github.com/TheCherno/Hazel)ï¼ˆç”± TheCherno å¼€å‘ï¼‰ã€‚åœ¨ç»§æ‰¿ Hazel2D ä¼˜ç§€è®¾è®¡ç†å¿µçš„åŸºç¡€ä¸Šï¼ŒXingXing é’ˆå¯¹ç‰¹å®šæ¸¸æˆéœ€æ±‚è¿›è¡Œäº†æ·±åº¦å®šåˆ¶å’ŒåŠŸèƒ½æ‰©å±•ï¼Œå½¢æˆäº†ä¸€å¥—æ›´åŠ å®Œå–„çš„æ¸¸æˆå¼•æ“è§£å†³æ–¹æ¡ˆã€‚

### 1.3 è®¾è®¡ç›®æ ‡

XingXing å¼•æ“çš„æ ¸å¿ƒè®¾è®¡ç›®æ ‡åŒ…æ‹¬ï¼š

1. **é«˜æ€§èƒ½æ¸²æŸ“**ï¼šæä¾›åŸºäºç°ä»£å›¾å½¢ API çš„é«˜æ•ˆ 2D æ‰¹å¤„ç†æ¸²æŸ“ç³»ç»Ÿ
2. **æ¨¡å—åŒ–æ¶æ„**ï¼šé‡‡ç”¨æ¸…æ™°çš„æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºç†è§£å’Œæ‰©å±•
3. **å¼€å‘å‹å¥½**ï¼šä¸ºæ¨¡ç»„å¼€å‘è€…æä¾›é€æ˜çš„æºç å’Œå®Œå–„çš„å¼€å‘å·¥å…·
4. **è·¨å¹³å°æ”¯æŒ**ï¼šæ”¯æŒ Windows å¹³å°ï¼Œæœªæ¥å¯æ‰©å±•è‡³å…¶ä»–å¹³å°
5. **å¯è§†åŒ–ç¼–è¾‘**ï¼šé›†æˆåœºæ™¯ç¼–è¾‘å™¨ï¼ˆXingXingnutï¼‰ï¼Œæå‡å¼€å‘æ•ˆç‡

### 1.4 å¼€æºç›®çš„ä¸è®¸å¯é™åˆ¶

#### 1.4.1 ä¸ºä»€ä¹ˆå¼€æºï¼Ÿ

XingXing é€‰æ‹©å¼€æ”¾æºä»£ç ï¼Œä¸»è¦å‡ºäºä»¥ä¸‹è€ƒè™‘ï¼š

- **æ•™è‚²ä»·å€¼**ï¼šä¸ºå­¦ä¹ æ¸¸æˆå¼•æ“å¼€å‘çš„å¼€å‘è€…æä¾›çœŸå®çš„å·¥ç¨‹å‚è€ƒ
- **æ¨¡ç»„æ”¯æŒ**ï¼šä½¿æ¨¡ç»„å¼€å‘è€…èƒ½å¤Ÿæ·±å…¥ç†è§£æ¸¸æˆåº•å±‚é€»è¾‘ï¼Œåˆ›ä½œå‡ºæ›´ä¼˜è´¨çš„æ¨¡ç»„å†…å®¹
- **ç¤¾åŒºè´¡çŒ®**ï¼šé¼“åŠ±å¼€æºç¤¾åŒºå‚ä¸ï¼Œå…±åŒå®Œå–„å¼•æ“åŠŸèƒ½

#### 1.4.2 ä½¿ç”¨é™åˆ¶ï¼ˆé‡è¦ï¼‰

å°½ç®¡æºç å¼€æ”¾ï¼Œä½†ä¸ºä¿æŠ¤åŸåˆ›å†…å®¹ï¼ŒXingXing å¼•æ“éµå¾ªä»¥ä¸‹ä½¿ç”¨é™åˆ¶ï¼š

- âŒ **ç¦æ­¢å•†ä¸šä½¿ç”¨**ï¼šä¸¥ç¦å°†æœ¬å¼•æ“ä»£ç æˆ–å…¶è¡ç”Ÿç‰ˆæœ¬ç”¨äºä»»ä½•å½¢å¼çš„å•†ä¸šç›ˆåˆ©æ´»åŠ¨
- âŒ **ç¦æ­¢æ¢å£³å‘å¸ƒ**ï¼šä¸å¾—å°†æœ¬é¡¹ç›®ç›´æ¥"æ¢çš®"åŒ…è£…æˆè‡ªæœ‰äº§å“å‘å¸ƒ
- âœ… **å…è®¸å­¦ä¹ ç ”ç©¶**ï¼šæ¬¢è¿ç”¨äºä¸ªäººå­¦ä¹ ã€ç ”ç©¶å’Œéå•†ä¸šæ€§è´¨çš„æ¨¡ç»„å¼€å‘
- âœ… **å°Šé‡åŸåˆ›**ï¼šä½¿ç”¨æ—¶è¯·ä¿ç•™å¯¹åŸå§‹é¡¹ç›®ï¼ˆHazel2Dï¼‰å’Œæœ¬é¡¹ç›®çš„è‡´è°¢å£°æ˜

---

## äºŒã€æ ¸å¿ƒæŠ€æœ¯æ ˆ

### 2.1 ç¼–ç¨‹è¯­è¨€

| è¯­è¨€ | ç”¨é€” | å æ¯” |
|------|------|------|
| **C++17** | å¼•æ“æ ¸å¿ƒã€æ¸²æŸ“ç³»ç»Ÿã€ç‰©ç†å¼•æ“ | ä¸»è¦ |
| **C#** | è„šæœ¬ç³»ç»Ÿã€æ¸¸æˆé€»è¾‘ç¼–å†™ | è„šæœ¬å±‚ |
| **Lua** | æ„å»ºé…ç½®ï¼ˆPremake5ï¼‰ | æ„å»ºå·¥å…· |

### 2.2 å›¾å½¢æ¸²æŸ“

#### 2.2.1 å›¾å½¢ API

- **OpenGL**ï¼šä¸»è¦æ¸²æŸ“ APIï¼Œæä¾›è·¨å¹³å°çš„å›¾å½¢æ¸²æŸ“èƒ½åŠ›
- **Vulkan**ï¼šæ‰©å±•æ”¯æŒï¼Œç”¨äºç€è‰²å™¨ç¼–è¯‘å’Œé«˜çº§æ¸²æŸ“ç‰¹æ€§

#### 2.2.2 æ¸²æŸ“åº“

| åº“åç§° | ç‰ˆæœ¬/æ¥æº | åŠŸèƒ½æè¿° |
|--------|----------|----------|
| **GLFW** | 3.x | çª—å£ç®¡ç†ã€è¾“å…¥äº‹ä»¶å¤„ç† |
| **Glad** | - | OpenGL å‡½æ•°åŠ è½½å™¨ |
| **GLM** | 0.9.9+ | æ•°å­¦åº“ï¼ˆå‘é‡ã€çŸ©é˜µè¿ç®—ï¼‰ |
| **stb_image** | - | å›¾åƒåŠ è½½ï¼ˆPNGã€JPG ç­‰æ ¼å¼ï¼‰ |
| **msdf-atlas-gen** | - | MSDF å­—ä½“æ¸²æŸ“æŠ€æœ¯ |

### 2.3 ç‰©ç†å¼•æ“

- **Box2D**ï¼šæˆç†Ÿçš„ 2D ç‰©ç†å¼•æ“ï¼Œæä¾›åˆšä½“ã€ç¢°æ’æ£€æµ‹ã€å…³èŠ‚çº¦æŸç­‰ç‰©ç†æ¨¡æ‹ŸåŠŸèƒ½

### 2.4 åœºæ™¯ä¸å®ä½“ç®¡ç†

- **EnTT**ï¼šé«˜æ€§èƒ½çš„å®ä½“ç»„ä»¶ç³»ç»Ÿï¼ˆECSï¼‰åº“ï¼Œç”¨äºåœºæ™¯å¯¹è±¡ç®¡ç†

### 2.5 è„šæœ¬ç³»ç»Ÿ

- **Mono**ï¼š.NET è¿è¡Œæ—¶ï¼Œæ”¯æŒ C# è„šæœ¬ç¼–å†™æ¸¸æˆé€»è¾‘

### 2.6 æ•°æ®åºåˆ—åŒ–

- **yaml-cpp**ï¼šYAML æ ¼å¼è§£æåº“ï¼Œç”¨äºåœºæ™¯æ–‡ä»¶ã€é…ç½®æ–‡ä»¶çš„åºåˆ—åŒ–

### 2.7 ç”¨æˆ·ç•Œé¢

- **ImGui**ï¼šå³æ—¶æ¨¡å¼ GUI åº“ï¼Œç”¨äºæ„å»ºå¼•æ“ç¼–è¾‘å™¨ç•Œé¢
- **ImGuizmo**ï¼š3D Gizmo æ§ä»¶ï¼Œç”¨äºåœºæ™¯ç¼–è¾‘å™¨ä¸­çš„ç‰©ä½“å˜æ¢æ“ä½œ

### 2.8 æ„å»ºç³»ç»Ÿ

- **Premake5**ï¼šè·¨å¹³å°æ„å»ºé…ç½®å·¥å…·ï¼Œç”¨äºç”Ÿæˆ Visual Studio è§£å†³æ–¹æ¡ˆ

### 2.9 å¼€å‘ç¯å¢ƒ

- **Visual Studio 2022**ï¼šæ¨èçš„é›†æˆå¼€å‘ç¯å¢ƒï¼ˆWindows å¹³å°ï¼‰
- **C++17 æ ‡å‡†**ï¼šç¼–è¯‘å™¨éœ€æ”¯æŒ C++17 ç‰¹æ€§

---

## ä¸‰ã€ç³»ç»Ÿæ¶æ„è®¾è®¡

### 3.1 æ•´ä½“æ¶æ„æ¦‚è§ˆ

XingXing å¼•æ“é‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œä»åº•å±‚åˆ°ä¸Šå±‚ä¾æ¬¡ä¸ºï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        æ¸¸æˆåº”ç”¨å±‚ (Game Layer)           â”‚  â† ç”¨æˆ·ç¼–å†™çš„æ¸¸æˆé€»è¾‘
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      è„šæœ¬ç³»ç»Ÿå±‚ (Scripting Layer)        â”‚  â† C# è„šæœ¬æ”¯æŒ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       åœºæ™¯ç®¡ç†å±‚ (Scene Layer)           â”‚  â† ECSã€åœºæ™¯åºåˆ—åŒ–
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      æ¸²æŸ“ç³»ç»Ÿå±‚ (Renderer Layer)         â”‚  â† 2D æ‰¹å¤„ç†æ¸²æŸ“
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    å¹³å°æŠ½è±¡å±‚ (Platform Abstraction)     â”‚  â† çª—å£ã€è¾“å…¥ã€æ–‡ä»¶ç³»ç»Ÿ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       æ ¸å¿ƒå±‚ (Core Layer)                â”‚  â† åº”ç”¨æ¡†æ¶ã€äº‹ä»¶ç³»ç»Ÿ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ ¸å¿ƒå­ç³»ç»Ÿ

#### 3.2.1 åº”ç”¨ç¨‹åºæ¡†æ¶ï¼ˆApplication Frameworkï¼‰

- **Application ç±»**ï¼šå¼•æ“ä¸»å¾ªç¯ã€çª—å£ç®¡ç†ã€äº‹ä»¶åˆ†å‘
- **Layer ç³»ç»Ÿ**ï¼šåˆ†å±‚æ¸²æŸ“å’Œæ›´æ–°æœºåˆ¶
- **Entry Point**ï¼šç»Ÿä¸€çš„ç¨‹åºå…¥å£ç‚¹

#### 3.2.2 äº‹ä»¶ç³»ç»Ÿï¼ˆEvent Systemï¼‰

é‡‡ç”¨è§‚å¯Ÿè€…æ¨¡å¼è®¾è®¡çš„äº‹ä»¶ç³»ç»Ÿï¼Œæ”¯æŒï¼š

- çª—å£äº‹ä»¶ï¼ˆå…³é—­ã€è°ƒæ•´å¤§å°ç­‰ï¼‰
- é”®ç›˜äº‹ä»¶ï¼ˆæŒ‰é”®æŒ‰ä¸‹ã€é‡Šæ”¾ï¼‰
- é¼ æ ‡äº‹ä»¶ï¼ˆç§»åŠ¨ã€ç‚¹å‡»ã€æ»šè½®ï¼‰
- åº”ç”¨ç¨‹åºäº‹ä»¶ï¼ˆæ›´æ–°ã€æ¸²æŸ“ï¼‰

#### 3.2.3 æ¸²æŸ“ç³»ç»Ÿï¼ˆRendering Systemï¼‰

**æ ¸å¿ƒç»„ä»¶ï¼š**

- **Renderer2D**ï¼šé«˜æ€§èƒ½çš„ 2D æ‰¹å¤„ç†æ¸²æŸ“å™¨
- **RendererAPI**ï¼šæ¸²æŸ“ API æŠ½è±¡å±‚ï¼ˆOpenGL å®ç°ï¼‰
- **Shader**ï¼šç€è‰²å™¨ç®¡ç†ï¼ˆåŠ è½½ã€ç¼–è¯‘ã€ç»‘å®šï¼‰
- **Texture**ï¼šçº¹ç†ç®¡ç†ï¼ˆ2D çº¹ç†ã€çº¹ç†å›¾é›†ï¼‰
- **Framebuffer**ï¼šå¸§ç¼“å†²å¯¹è±¡ï¼Œç”¨äºç¦»å±æ¸²æŸ“
- **Camera**ï¼šæ‘„åƒæœºç³»ç»Ÿï¼ˆæ­£äº¤ç›¸æœºã€åœºæ™¯ç›¸æœºã€ç¼–è¾‘å™¨ç›¸æœºï¼‰

**æ¸²æŸ“æµç¨‹ï¼š**

```
BeginScene() â†’ è®¾ç½®ç›¸æœº
   â†“
DrawQuad/DrawCircle/DrawString() â†’ æ‰¹é‡æäº¤ç»˜åˆ¶å‘½ä»¤
   â†“
Flush() â†’ åˆæ‰¹æ¸²æŸ“ï¼Œå‡å°‘ Draw Call
   â†“
EndScene() â†’ ç»“æŸæ¸²æŸ“
```

#### 3.2.4 åœºæ™¯ç³»ç»Ÿï¼ˆScene Systemï¼‰

åŸºäº **ECSï¼ˆå®ä½“ç»„ä»¶ç³»ç»Ÿï¼‰** æ¶æ„ï¼š

- **Entity**ï¼šåœºæ™¯ä¸­çš„å®ä½“å¯¹è±¡ï¼ˆID + ç»„ä»¶é›†åˆï¼‰
- **Component**ï¼šç»„ä»¶å®šä¹‰ï¼ˆTransformã€Spriteã€Camera ç­‰ï¼‰
- **Scene**ï¼šåœºæ™¯å®¹å™¨ï¼Œç®¡ç†æ‰€æœ‰å®ä½“
- **SceneSerializer**ï¼šåœºæ™¯åºåˆ—åŒ–ï¼ˆä¿å­˜/åŠ è½½ .hazel åœºæ™¯æ–‡ä»¶ï¼‰

**ä¸»è¦ç»„ä»¶ç±»å‹ï¼š**

| ç»„ä»¶åç§° | åŠŸèƒ½æè¿° |
|---------|---------|
| `IDComponent` | å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆUUIDï¼‰ |
| `TagComponent` | å®ä½“åç§°æ ‡ç­¾ |
| `TransformComponent` | ä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ |
| `SpriteRendererComponent` | ç²¾çµæ¸²æŸ“ï¼ˆé¢œè‰²ã€çº¹ç†ï¼‰ |
| `CircleRendererComponent` | åœ†å½¢æ¸²æŸ“ |
| `CameraComponent` | æ‘„åƒæœºç»„ä»¶ |
| `ScriptComponent` | C# è„šæœ¬ç»‘å®š |
| `Rigidbody2DComponent` | 2D åˆšä½“ç‰©ç† |
| `BoxCollider2DComponent` | 2D çŸ©å½¢ç¢°æ’ä½“ |
| `CircleCollider2DComponent` | 2D åœ†å½¢ç¢°æ’ä½“ |
| `TextComponent` | æ–‡æœ¬æ¸²æŸ“ |

#### 3.2.5 ç‰©ç†ç³»ç»Ÿï¼ˆPhysics Systemï¼‰

é›†æˆ **Box2D** ç‰©ç†å¼•æ“ï¼š

- åˆšä½“æ¨¡æ‹Ÿï¼ˆé™æ€ã€åŠ¨æ€ã€è¿åŠ¨å­¦ï¼‰
- ç¢°æ’æ£€æµ‹ä¸å“åº”
- ç‰©ç†æè´¨ï¼ˆå¯†åº¦ã€æ‘©æ“¦åŠ›ã€å¼¹æ€§ï¼‰
- ç‰©ç†è°ƒè¯•ç»˜åˆ¶

#### 3.2.6 è„šæœ¬ç³»ç»Ÿï¼ˆScripting Systemï¼‰

åŸºäº **Mono** çš„ C# è„šæœ¬ç³»ç»Ÿï¼š

- çƒ­é‡è½½æ”¯æŒï¼ˆè¿è¡Œæ—¶é‡æ–°ç¼–è¯‘è„šæœ¬ï¼‰
- ä¸å¼•æ“çš„åŒå‘ç»‘å®šï¼ˆInternalCallsï¼‰
- è„šæœ¬ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆOnCreateã€OnUpdateã€OnDestroyï¼‰
- ç±»å‹åå°„ä¸å®ä¾‹åŒ–

**C# è„šæœ¬åŸºç±»ï¼š**

```csharp
public class Entity
{
    protected virtual void OnCreate() { }
    protected virtual void OnUpdate(float ts) { }
    protected virtual void OnDestroy() { }
}
```

#### 3.2.7 é¡¹ç›®ç®¡ç†ï¼ˆProject Systemï¼‰

- é¡¹ç›®é…ç½®ï¼ˆProjectConfigï¼‰
- èµ„æºç›®å½•ç®¡ç†ï¼ˆAssetDirectoryï¼‰
- å¯åŠ¨åœºæ™¯è®¾ç½®ï¼ˆStartSceneï¼‰
- é¡¹ç›®æ–‡ä»¶åºåˆ—åŒ–ï¼ˆ.hproj æ–‡ä»¶ï¼‰

### 3.3 ç¼–è¾‘å™¨æ¶æ„ï¼ˆXingXingnutï¼‰

**XingXingnut** æ˜¯å¼•æ“çš„å¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œä¸»è¦æ¨¡å—åŒ…æ‹¬ï¼š

- **EditorLayer**ï¼šç¼–è¾‘å™¨ä¸»ç•Œé¢å±‚
- **SceneHierarchyPanel**ï¼šåœºæ™¯å±‚çº§é¢æ¿
- **ContentBrowserPanel**ï¼šèµ„æºæµè§ˆå™¨é¢æ¿
- **PropertiesPanel**ï¼šå±æ€§æ£€æŸ¥é¢æ¿
- **Viewport**ï¼šåœºæ™¯è§†å£ï¼ˆæ”¯æŒ Gizmo æ“ä½œï¼‰
- **Toolbar**ï¼šå·¥å…·æ ï¼ˆæ’­æ”¾/æš‚åœ/åœæ­¢ï¼‰

---

## å››ã€æ ¸å¿ƒæ¨¡å—åŠŸèƒ½è¯´æ˜

### 4.1 Core æ¨¡å—ï¼ˆæ ¸å¿ƒå±‚ï¼‰

#### 4.1.1 Applicationï¼ˆåº”ç”¨ç¨‹åºï¼‰

**èŒè´£ï¼š**

- çª—å£ç”Ÿå‘½å‘¨æœŸç®¡ç†
- ä¸»å¾ªç¯é©±åŠ¨ï¼ˆUpdateã€Renderï¼‰
- Layer æ ˆç®¡ç†
- äº‹ä»¶åˆ†å‘

**å…³é”®æ–¹æ³•ï¼š**

```cpp
class Application {
public:
    void Run();                     // å¯åŠ¨ä¸»å¾ªç¯
    void OnEvent(Event& e);         // äº‹ä»¶å¤„ç†
    void PushLayer(Layer* layer);   // æ·»åŠ å±‚
    void Close();                   // å…³é—­åº”ç”¨
    static Application& Get();      // è·å–å•ä¾‹
};
```

#### 4.1.2 Inputï¼ˆè¾“å…¥ç³»ç»Ÿï¼‰

**åŠŸèƒ½ï¼š**

- é”®ç›˜è¾“å…¥æ£€æµ‹ï¼ˆIsKeyPressedï¼‰
- é¼ æ ‡è¾“å…¥æ£€æµ‹ï¼ˆIsMouseButtonPressedï¼‰
- é¼ æ ‡ä½ç½®è·å–ï¼ˆGetMousePositionï¼‰

**ç¤ºä¾‹ï¼š**

```cpp
if (Input::IsKeyPressed(Key::W))
    // å‘å‰ç§»åŠ¨
if (Input::IsMouseButtonPressed(Mouse::ButtonLeft))
    // å¤„ç†é¼ æ ‡ç‚¹å‡»
```

#### 4.1.3 Timestepï¼ˆæ—¶é—´æ­¥é•¿ï¼‰

ç”¨äºå¸§ç‡æ— å…³çš„æ¸¸æˆé€»è¾‘æ›´æ–°ï¼š

```cpp
float dt = timestep.GetSeconds();  // è·å–å¸§é—´éš”ï¼ˆç§’ï¼‰
position += velocity * dt;         // å¸§ç‡æ— å…³çš„ç§»åŠ¨
```

### 4.2 Renderer æ¨¡å—ï¼ˆæ¸²æŸ“å±‚ï¼‰

#### 4.2.1 Renderer2Dï¼ˆ2D æ¸²æŸ“å™¨ï¼‰

**æ ¸å¿ƒç‰¹æ€§ï¼š**

- **æ‰¹å¤„ç†æ¸²æŸ“**ï¼šè‡ªåŠ¨åˆæ‰¹ç›¸åŒæè´¨çš„ç»˜åˆ¶è°ƒç”¨ï¼Œæå‡æ€§èƒ½
- **å¤šç§å›¾å…ƒ**ï¼šæ”¯æŒå››è¾¹å½¢ã€åœ†å½¢ã€çº¿æ¡ã€æ–‡æœ¬æ¸²æŸ“
- **çº¹ç†æ”¯æŒ**ï¼šçº¹ç†ç»‘å®šã€å¹³é“ºå› å­ã€ç€è‰²
- **MSDF å­—ä½“**ï¼šé«˜è´¨é‡çš„çŸ¢é‡å­—ä½“æ¸²æŸ“

**ä¸»è¦ APIï¼š**

```cpp
// åˆå§‹åŒ–å’Œæ¸…ç†
Renderer2D::Init();
Renderer2D::Shutdown();

// å¼€å§‹/ç»“æŸåœºæ™¯
Renderer2D::BeginScene(camera);
Renderer2D::EndScene();

// ç»˜åˆ¶å›¾å…ƒ
Renderer2D::DrawQuad(position, size, color);
Renderer2D::DrawQuad(position, size, texture);
Renderer2D::DrawCircle(transform, color, thickness);
Renderer2D::DrawLine(start, end, color);
Renderer2D::DrawString(text, font, transform, textParams);
```

#### 4.2.2 Textureï¼ˆçº¹ç†ç®¡ç†ï¼‰

**æ”¯æŒåŠŸèƒ½ï¼š**

- çº¹ç†åŠ è½½ï¼ˆPNGã€JPG ç­‰æ ¼å¼ï¼‰
- çº¹ç†å‚æ•°è®¾ç½®ï¼ˆè¿‡æ»¤ã€åŒ…è£¹æ¨¡å¼ï¼‰
- çº¹ç†ç»‘å®šå’Œè§£ç»‘
- å­çº¹ç†ï¼ˆSprite Sheetsï¼‰

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```cpp
Ref<Texture2D> texture = Texture2D::Create("path/to/texture.png");
Renderer2D::DrawQuad({0, 0}, {1, 1}, texture);
```

#### 4.2.3 Framebufferï¼ˆå¸§ç¼“å†²ï¼‰

**åº”ç”¨åœºæ™¯ï¼š**

- ç¦»å±æ¸²æŸ“
- åå¤„ç†æ•ˆæœ
- ç¼–è¾‘å™¨è§†å£æ¸²æŸ“

```cpp
FramebufferSpecification spec;
spec.Width = 1280;
spec.Height = 720;
Ref<Framebuffer> framebuffer = Framebuffer::Create(spec);

// æ¸²æŸ“åˆ°å¸§ç¼“å†²
framebuffer->Bind();
// ... æ¸²æŸ“æ“ä½œ ...
framebuffer->Unbind();

// è·å–çº¹ç†ç”¨äºæ˜¾ç¤º
uint32_t textureID = framebuffer->GetColorAttachmentRendererID();
```

### 4.3 Scene æ¨¡å—ï¼ˆåœºæ™¯å±‚ï¼‰

#### 4.3.1 Sceneï¼ˆåœºæ™¯ç®¡ç†ï¼‰

**ä¸»è¦åŠŸèƒ½ï¼š**

- å®ä½“åˆ›å»ºä¸é”€æ¯
- åœºæ™¯æ›´æ–°ï¼ˆOnUpdateRuntimeã€OnUpdateEditorï¼‰
- ç‰©ç†ç³»ç»Ÿé›†æˆ
- è„šæœ¬ç³»ç»Ÿé›†æˆ

**API ç¤ºä¾‹ï¼š**

```cpp
Ref<Scene> scene = CreateRef<Scene>();

// åˆ›å»ºå®ä½“
Entity entity = scene->CreateEntity("Player");

// æ·»åŠ ç»„ä»¶
entity.AddComponent<SpriteRendererComponent>();
entity.GetComponent<TransformComponent>().Translation = {0, 0, 0};

// åœºæ™¯æ›´æ–°
scene->OnUpdateRuntime(timestep);
```

#### 4.3.2 Entityï¼ˆå®ä½“ï¼‰

**ç»„ä»¶æ“ä½œï¼š**

```cpp
// æ·»åŠ ç»„ä»¶
auto& sprite = entity.AddComponent<SpriteRendererComponent>();
sprite.Color = {1.0f, 0.0f, 0.0f, 1.0f};

// è·å–ç»„ä»¶
if (entity.HasComponent<TransformComponent>()) {
    auto& transform = entity.GetComponent<TransformComponent>();
    transform.Translation.x += 1.0f;
}

// ç§»é™¤ç»„ä»¶
entity.RemoveComponent<SpriteRendererComponent>();
```

#### 4.3.3 SceneSerializerï¼ˆåœºæ™¯åºåˆ—åŒ–ï¼‰

**åŠŸèƒ½ï¼š**

- åœºæ™¯ä¿å­˜ä¸º YAML æ ¼å¼ï¼ˆ.hazel æ–‡ä»¶ï¼‰
- åœºæ™¯åŠ è½½ä¸ååºåˆ—åŒ–
- æ”¯æŒæ‰€æœ‰ç»„ä»¶ç±»å‹çš„åºåˆ—åŒ–

```cpp
SceneSerializer serializer(scene);
serializer.Serialize("path/to/scene.hazel");    // ä¿å­˜
serializer.Deserialize("path/to/scene.hazel");  // åŠ è½½
```

### 4.4 Physics æ¨¡å—ï¼ˆç‰©ç†å±‚ï¼‰

#### 4.4.1 Physics2Dï¼ˆç‰©ç†ç³»ç»Ÿï¼‰

**é›†æˆ Box2Dï¼Œæä¾›ï¼š**

- åˆšä½“ç±»å‹ï¼ˆStaticã€Dynamicã€Kinematicï¼‰
- ç¢°æ’ä½“ï¼ˆBoxã€Circleã€Capsuleï¼‰
- ç‰©ç†æè´¨ï¼ˆå¯†åº¦ã€æ‘©æ“¦åŠ›ã€å¼¹æ€§ï¼‰
- ç¢°æ’å›è°ƒ

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

```cpp
// æ·»åŠ åˆšä½“
auto& rb = entity.AddComponent<Rigidbody2DComponent>();
rb.Type = Rigidbody2DComponent::BodyType::Dynamic;
rb.FixedRotation = false;

// æ·»åŠ ç¢°æ’ä½“
auto& bc = entity.AddComponent<BoxCollider2DComponent>();
bc.Size = {1.0f, 1.0f};
bc.Friction = 0.5f;
bc.Restitution = 0.3f;
```

### 4.5 Scripting æ¨¡å—ï¼ˆè„šæœ¬å±‚ï¼‰

#### 4.5.1 ScriptEngineï¼ˆè„šæœ¬å¼•æ“ï¼‰

**ä¸»è¦èŒè´£ï¼š**

- Mono è¿è¡Œæ—¶åˆå§‹åŒ–
- C# ç¨‹åºé›†åŠ è½½
- è„šæœ¬å®ä¾‹ç®¡ç†
- InternalCalls æ³¨å†Œ

**è„šæœ¬ç”Ÿå‘½å‘¨æœŸï¼š**

```
LoadAssembly() â†’ InstantiateClass() â†’ OnCreate()
    â†“
OnUpdate(dt) [æ¯å¸§è°ƒç”¨]
    â†“
OnDestroy() â†’ æ¸…ç†
```

#### 4.5.2 C# è„šæœ¬ç¼–å†™

**ç¤ºä¾‹è„šæœ¬ï¼ˆPlayer.csï¼‰ï¼š**

```csharp
using Hazel;

public class Player : Entity
{
    private float speed = 5.0f;
    
    protected override void OnCreate()
    {
        Console.WriteLine("Player Created!");
    }
    
    protected override void OnUpdate(float ts)
    {
        Vector3 translation = Translation;
        
        if (Input.IsKeyPressed(KeyCode.W))
            translation.Y += speed * ts;
        if (Input.IsKeyPressed(KeyCode.S))
            translation.Y -= speed * ts;
        if (Input.IsKeyPressed(KeyCode.A))
            translation.X -= speed * ts;
        if (Input.IsKeyPressed(KeyCode.D))
            translation.X += speed * ts;
            
        Translation = translation;
    }
}
```

### 4.6 Project æ¨¡å—ï¼ˆé¡¹ç›®ç®¡ç†ï¼‰

**åŠŸèƒ½ï¼š**

- é¡¹ç›®æ–‡ä»¶ç®¡ç†ï¼ˆ.hprojï¼‰
- èµ„æºè·¯å¾„é…ç½®
- å¯åŠ¨åœºæ™¯è®¾ç½®
- è„šæœ¬æ¨¡å—è·¯å¾„ç®¡ç†

**é¡¹ç›®é…ç½®ç»“æ„ï¼š**

```cpp
struct ProjectConfig {
    std::string Name;                     // é¡¹ç›®åç§°
    std::filesystem::path StartScene;     // å¯åŠ¨åœºæ™¯
    std::filesystem::path AssetDirectory; // èµ„æºç›®å½•
    std::filesystem::path ScriptModulePath; // è„šæœ¬æ¨¡å—è·¯å¾„
};
```

---

## äº”ã€æœ¬åœ°éƒ¨ç½²æ­¥éª¤

### 5.1 ç³»ç»Ÿè¦æ±‚

#### 5.1.1 ç¡¬ä»¶è¦æ±‚

- **å¤„ç†å™¨**ï¼šæ”¯æŒ x86-64 æŒ‡ä»¤é›†çš„ç°ä»£ CPU
- **å†…å­˜**ï¼šè‡³å°‘ 8 GB RAM
- **æ˜¾å¡**ï¼šæ”¯æŒ OpenGL 4.5+ çš„æ˜¾å¡
- **å­˜å‚¨**ï¼šè‡³å°‘ 5 GB å¯ç”¨ç£ç›˜ç©ºé—´

#### 5.1.2 è½¯ä»¶è¦æ±‚

- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10/11ï¼ˆ64 ä½ï¼‰
- **ç¼–è¯‘å™¨**ï¼šVisual Studio 2022ï¼ˆæˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰
- **C++ å·¥ä½œè´Ÿè½½**ï¼šéœ€å®‰è£…"ä½¿ç”¨ C++ çš„æ¡Œé¢å¼€å‘"å·¥ä½œè´Ÿè½½
- **Python**ï¼š3.x ç‰ˆæœ¬ï¼ˆç”¨äºè¿è¡Œæ„å»ºè„šæœ¬ï¼‰
- **Git**ï¼šç”¨äºå…‹éš†ä»“åº“å’Œå­æ¨¡å—ç®¡ç†
- **Vulkan SDK**ï¼šç”¨äºç€è‰²å™¨ç¼–è¯‘ï¼ˆå¯é€‰ä½†æ¨èï¼‰

### 5.2 ç¯å¢ƒé…ç½®

#### 5.2.1 å®‰è£… Visual Studio 2022

1. ä¸‹è½½ [Visual Studio 2022 Community](https://visualstudio.microsoft.com/)
2. å®‰è£…æ—¶å‹¾é€‰ï¼š
   - âœ… ä½¿ç”¨ C++ çš„æ¡Œé¢å¼€å‘
   - âœ… C++ CMake å·¥å…·
   - âœ… Windows 10/11 SDK

#### 5.2.2 å®‰è£… Vulkan SDKï¼ˆæ¨èï¼‰

1. è®¿é—® [LunarG Vulkan SDK](https://vulkan.lunarg.com/)
2. ä¸‹è½½å¹¶å®‰è£…æœ€æ–°ç‰ˆæœ¬
3. ç¡®ä¿ç¯å¢ƒå˜é‡ `VULKAN_SDK` å·²æ­£ç¡®è®¾ç½®

#### 5.2.3 å®‰è£… Python

1. ä¸‹è½½ [Python 3.x](https://www.python.org/downloads/)
2. å®‰è£…æ—¶å‹¾é€‰ "Add Python to PATH"

### 5.3 å…‹éš†ä»“åº“

æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œæ‰§è¡Œï¼š

```bash
git clone https://github.com/xiaoheid-dunkel/XingXing.git
cd XingXing
```

### 5.4 åˆå§‹åŒ–å­æ¨¡å—

XingXing ä½¿ç”¨ Git å­æ¨¡å—ç®¡ç†ç¬¬ä¸‰æ–¹ä¾èµ–ï¼š

```bash
git submodule update --init --recursive
```

### 5.5 è¿è¡Œæ„å»ºè„šæœ¬

#### 5.5.1 Windows å¹³å°

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ï¼ˆæ¨èï¼‰**

åŒå‡»è¿è¡Œé¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ï¼š

```
scripts/Win-GenProjects.bat
```

**æ–¹æ³•äºŒï¼šä½¿ç”¨ Python è„šæœ¬**

```bash
cd scripts
python Setup.py
```

è„šæœ¬ä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š

1. âœ… æ£€æŸ¥ Python ç‰ˆæœ¬
2. âœ… ä¸‹è½½å¹¶å®‰è£… Premake5
3. âœ… éªŒè¯ Vulkan SDK å®‰è£…
4. âœ… æ›´æ–° Git å­æ¨¡å—
5. âœ… ç”Ÿæˆ Visual Studio è§£å†³æ–¹æ¡ˆæ–‡ä»¶ï¼ˆ`XingXing.sln`ï¼‰

### 5.6 ç¼–è¯‘é¡¹ç›®

#### 5.6.1 æ‰“å¼€è§£å†³æ–¹æ¡ˆ

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰¾åˆ°å¹¶æ‰“å¼€ï¼š

```
XingXing.sln
```

#### 5.6.2 é€‰æ‹©é…ç½®

åœ¨ Visual Studio ä¸­ï¼Œé€‰æ‹©æ„å»ºé…ç½®ï¼š

- **Debug**ï¼šç”¨äºå¼€å‘å’Œè°ƒè¯•ï¼ˆåŒ…å«è°ƒè¯•ç¬¦å·ï¼Œæ€§èƒ½è¾ƒä½ï¼‰
- **Release**ï¼šä¼˜åŒ–æ„å»ºï¼ˆæ€§èƒ½è¾ƒé«˜ï¼‰
- **Dist**ï¼šå‘è¡Œç‰ˆæœ¬ï¼ˆæœ€å¤§ä¼˜åŒ–ï¼Œå»é™¤è°ƒè¯•ä¿¡æ¯ï¼‰

#### 5.6.3 è®¾ç½®å¯åŠ¨é¡¹ç›®

åœ¨"è§£å†³æ–¹æ¡ˆèµ„æºç®¡ç†å™¨"ä¸­ï¼Œå³é”®ç‚¹å‡» **XingXingnut** é¡¹ç›®ï¼Œé€‰æ‹©"è®¾ä¸ºå¯åŠ¨é¡¹ç›®"ã€‚

#### 5.6.4 ç¼–è¯‘

ç‚¹å‡»èœå•æ ï¼š

```
ç”Ÿæˆ â†’ ç”Ÿæˆè§£å†³æ–¹æ¡ˆ (Ctrl+Shift+B)
```

é¦–æ¬¡ç¼–è¯‘å¯èƒ½éœ€è¦ 10-20 åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚

### 5.7 è¿è¡Œå¼•æ“ç¼–è¾‘å™¨

ç¼–è¯‘æˆåŠŸåï¼ŒæŒ‰ `F5` æˆ–ç‚¹å‡»"æœ¬åœ° Windows è°ƒè¯•å™¨"æŒ‰é’®å¯åŠ¨ **XingXingnut** ç¼–è¾‘å™¨ã€‚

### 5.8 å¸¸è§é—®é¢˜æ’æŸ¥

#### é—®é¢˜ 1ï¼šæ‰¾ä¸åˆ° Vulkan SDK

**è§£å†³æ–¹æ¡ˆï¼š**

- ç¡®è®¤å·²å®‰è£… Vulkan SDK
- æ£€æŸ¥ç¯å¢ƒå˜é‡ `VULKAN_SDK` æ˜¯å¦è®¾ç½®
- é‡å¯ç»ˆç«¯æˆ– Visual Studio

#### é—®é¢˜ 2ï¼šLNK1181 é”™è¯¯ï¼ˆæ‰¾ä¸åˆ° .lib æ–‡ä»¶ï¼‰

**è§£å†³æ–¹æ¡ˆï¼š**

- ç¡®ä¿ Vulkan SDK å®‰è£…å®Œæ•´
- åœ¨ `Dependencies.lua` ä¸­æ£€æŸ¥åº“è·¯å¾„é…ç½®
- ä½¿ç”¨ Release æ¨¡å¼ç¼–è¯‘ï¼ˆDebug æ¨¡å¼å¯èƒ½ç¼ºå°‘æŸäº›åº“ï¼‰

#### é—®é¢˜ 3ï¼šå­æ¨¡å—æœªæ­£ç¡®åŠ è½½

**è§£å†³æ–¹æ¡ˆï¼š**

```bash
git submodule update --init --recursive --force
```

#### é—®é¢˜ 4ï¼šPremake5 ç”Ÿæˆå¤±è´¥

**è§£å†³æ–¹æ¡ˆï¼š**

- æ‰‹åŠ¨ä¸‹è½½ [Premake5](https://premake.github.io/)
- å°† `premake5.exe` æ”¾å…¥ `vendor/premake/bin/` ç›®å½•
- é‡æ–°è¿è¡Œæ„å»ºè„šæœ¬

---

## å…­ã€å…³é”® API ç¤ºä¾‹

### 6.1 åˆ›å»ºåŸºç¡€åº”ç”¨ç¨‹åº

#### 6.1.1 æœ€å°åº”ç”¨ç¨‹åº

```cpp
#include <XingXing.h>
#include <XingXing/Core/EntryPoint.h>

class MyLayer : public Hazel::Layer
{
public:
    void OnUpdate(Hazel::Timestep ts) override
    {
        // æ¯å¸§æ›´æ–°é€»è¾‘
    }
    
    void OnImGuiRender() override
    {
        ImGui::Begin("My Window");
        ImGui::Text("Hello, XingXing!");
        ImGui::End();
    }
};

class MyApp : public Hazel::Application
{
public:
    MyApp(const Hazel::ApplicationSpecification& spec)
        : Application(spec)
    {
        PushLayer(new MyLayer());
    }
};

Hazel::Application* Hazel::CreateApplication(ApplicationCommandLineArgs args)
{
    Hazel::ApplicationSpecification spec;
    spec.Name = "My Application";
    return new MyApp(spec);
}
```

### 6.2 2D æ¸²æŸ“ç¤ºä¾‹

#### 6.2.1 ç»˜åˆ¶å½©è‰²æ–¹å—

```cpp
void OnUpdate(Hazel::Timestep ts)
{
    Hazel::Renderer2D::BeginScene(camera);
    
    // ç»˜åˆ¶çº¢è‰²æ–¹å—
    Hazel::Renderer2D::DrawQuad(
        {0.0f, 0.0f, 0.0f},      // ä½ç½®
        {1.0f, 1.0f},            // å¤§å°
        {1.0f, 0.0f, 0.0f, 1.0f} // é¢œè‰² (RGBA)
    );
    
    Hazel::Renderer2D::EndScene();
}
```

#### 6.2.2 ç»˜åˆ¶çº¹ç†ç²¾çµ

```cpp
Hazel::Ref<Hazel::Texture2D> m_Texture;

void OnAttach()
{
    m_Texture = Hazel::Texture2D::Create("assets/textures/sprite.png");
}

void OnUpdate(Hazel::Timestep ts)
{
    Hazel::Renderer2D::BeginScene(camera);
    
    // ç»˜åˆ¶çº¹ç†ç²¾çµ
    Hazel::Renderer2D::DrawQuad(
        {0.0f, 0.0f, 0.0f},  // ä½ç½®
        {2.0f, 2.0f},        // å¤§å°
        m_Texture,           // çº¹ç†
        1.0f,                // å¹³é“ºå› å­
        {1.0f, 1.0f, 1.0f, 1.0f} // ç€è‰²ï¼ˆç™½è‰²=ä¸ç€è‰²ï¼‰
    );
    
    Hazel::Renderer2D::EndScene();
}
```

#### 6.2.3 ç»˜åˆ¶æ—‹è½¬æ–¹å—

```cpp
void OnUpdate(Hazel::Timestep ts)
{
    static float rotation = 0.0f;
    rotation += ts * 2.0f; // æ¯ç§’æ—‹è½¬ 2 å¼§åº¦
    
    Hazel::Renderer2D::BeginScene(camera);
    
    Hazel::Renderer2D::DrawRotatedQuad(
        {0.0f, 0.0f, 0.0f},      // ä½ç½®
        {1.0f, 1.0f},            // å¤§å°
        rotation,                // æ—‹è½¬è§’åº¦ï¼ˆå¼§åº¦ï¼‰
        {0.0f, 1.0f, 0.0f, 1.0f} // é¢œè‰²
    );
    
    Hazel::Renderer2D::EndScene();
}
```

#### 6.2.4 ç»˜åˆ¶æ–‡æœ¬

```cpp
Hazel::Ref<Hazel::Font> m_Font;

void OnAttach()
{
    m_Font = Hazel::Font::GetDefault(); // æˆ–åŠ è½½è‡ªå®šä¹‰å­—ä½“
}

void OnUpdate(Hazel::Timestep ts)
{
    Hazel::Renderer2D::BeginScene(camera);
    
    Hazel::Renderer2D::TextParams textParams;
    textParams.Color = {1.0f, 1.0f, 1.0f, 1.0f};
    textParams.Kerning = 0.0f;
    textParams.LineSpacing = 0.0f;
    
    glm::mat4 transform = glm::translate(glm::mat4(1.0f), {0.0f, 0.0f, 0.0f});
    
    Hazel::Renderer2D::DrawString(
        "Hello, World!",
        m_Font,
        transform,
        textParams
    );
    
    Hazel::Renderer2D::EndScene();
}
```

### 6.3 åœºæ™¯ä¸å®ä½“æ“ä½œ

#### 6.3.1 åˆ›å»ºåœºæ™¯å’Œå®ä½“

```cpp
using namespace Hazel;

// åˆ›å»ºåœºæ™¯
Ref<Scene> scene = CreateRef<Scene>();

// åˆ›å»ºå®ä½“
Entity player = scene->CreateEntity("Player");

// æ·»åŠ ç»„ä»¶
auto& transform = player.GetComponent<TransformComponent>();
transform.Translation = {0.0f, 0.0f, 0.0f};
transform.Scale = {1.0f, 1.0f, 1.0f};

auto& sprite = player.AddComponent<SpriteRendererComponent>();
sprite.Color = {0.0f, 1.0f, 0.0f, 1.0f}; // ç»¿è‰²
```

#### 6.3.2 æ·»åŠ ç‰©ç†ç»„ä»¶

```cpp
// æ·»åŠ åˆšä½“
auto& rb = player.AddComponent<Rigidbody2DComponent>();
rb.Type = Rigidbody2DComponent::BodyType::Dynamic;
rb.FixedRotation = true; // ç¦æ­¢æ—‹è½¬
rb.GravityScale = 1.0f;

// æ·»åŠ ç¢°æ’ä½“
auto& collider = player.AddComponent<BoxCollider2DComponent>();
collider.Size = {0.5f, 0.5f};
collider.Density = 1.0f;
collider.Friction = 0.5f;
collider.Restitution = 0.3f; // å¼¹æ€§
```

#### 6.3.3 æŸ¥è¯¢å’Œéå†å®ä½“

```cpp
// éå†æ‰€æœ‰å…·æœ‰ç‰¹å®šç»„ä»¶çš„å®ä½“
auto view = scene->GetAllEntitiesWith<TransformComponent, SpriteRendererComponent>();
for (auto entity : view)
{
    auto [transform, sprite] = view.get<TransformComponent, SpriteRendererComponent>(entity);
    
    // å¤„ç†å®ä½“
    transform.Translation.x += 1.0f;
    sprite.Color.r = 0.5f;
}
```

### 6.4 è¾“å…¥å¤„ç†

#### 6.4.1 é”®ç›˜è¾“å…¥

```cpp
void OnUpdate(Timestep ts)
{
    float speed = 5.0f;
    
    if (Input::IsKeyPressed(Key::W))
        cameraPosition.y += speed * ts;
    if (Input::IsKeyPressed(Key::S))
        cameraPosition.y -= speed * ts;
    if (Input::IsKeyPressed(Key::A))
        cameraPosition.x -= speed * ts;
    if (Input::IsKeyPressed(Key::D))
        cameraPosition.x += speed * ts;
        
    if (Input::IsKeyPressed(Key::Space))
        // è·³è·ƒæˆ–å…¶ä»–æ“ä½œ
}
```

#### 6.4.2 é¼ æ ‡è¾“å…¥

```cpp
void OnUpdate(Timestep ts)
{
    auto [mouseX, mouseY] = Input::GetMousePosition();
    
    if (Input::IsMouseButtonPressed(Mouse::ButtonLeft))
    {
        // å¤„ç†é¼ æ ‡å·¦é”®ç‚¹å‡»
        HZ_INFO("Mouse clicked at: {}, {}", mouseX, mouseY);
    }
    
    if (Input::IsMouseButtonPressed(Mouse::ButtonRight))
    {
        // å¤„ç†é¼ æ ‡å³é”®ç‚¹å‡»
    }
}
```

### 6.5 åœºæ™¯åºåˆ—åŒ–

#### 6.5.1 ä¿å­˜åœºæ™¯

```cpp
#include "XingXing/Scene/SceneSerializer.h"

Ref<Scene> scene = CreateRef<Scene>();
// ... åˆ›å»ºå®ä½“å’Œç»„ä»¶ ...

// ä¿å­˜åœºæ™¯
SceneSerializer serializer(scene);
serializer.Serialize("assets/scenes/MyScene.hazel");
```

#### 6.5.2 åŠ è½½åœºæ™¯

```cpp
Ref<Scene> scene = CreateRef<Scene>();

SceneSerializer serializer(scene);
if (serializer.Deserialize("assets/scenes/MyScene.hazel"))
{
    // åœºæ™¯åŠ è½½æˆåŠŸ
    HZ_INFO("Scene loaded successfully!");
}
else
{
    HZ_ERROR("Failed to load scene!");
}
```

### 6.6 C# è„šæœ¬ç¤ºä¾‹

#### 6.6.1 åŸºç¡€è„šæœ¬æ¨¡æ¿

```csharp
using Hazel;

public class MyScript : Entity
{
    // ç§æœ‰å­—æ®µ
    private float speed = 5.0f;
    private Vector3 velocity;
    
    // åˆ›å»ºæ—¶è°ƒç”¨ä¸€æ¬¡
    protected override void OnCreate()
    {
        Console.WriteLine($"Entity {Name} created!");
    }
    
    // æ¯å¸§è°ƒç”¨
    protected override void OnUpdate(float ts)
    {
        Vector3 translation = Translation;
        
        // è¾“å…¥å¤„ç†
        if (Input.IsKeyPressed(KeyCode.W))
            translation.Y += speed * ts;
        if (Input.IsKeyPressed(KeyCode.S))
            translation.Y -= speed * ts;
            
        Translation = translation;
    }
    
    // é”€æ¯æ—¶è°ƒç”¨
    protected override void OnDestroy()
    {
        Console.WriteLine("Entity destroyed!");
    }
}
```

#### 6.6.2 ç»„ä»¶è®¿é—®

```csharp
using Hazel;

public class ColorChanger : Entity
{
    private float hue = 0.0f;
    
    protected override void OnUpdate(float ts)
    {
        // è·å–ç»„ä»¶
        if (HasComponent<SpriteRendererComponent>())
        {
            var sprite = GetComponent<SpriteRendererComponent>();
            
            // ä¿®æ”¹é¢œè‰²ï¼ˆå½©è™¹æ•ˆæœï¼‰
            hue += ts * 0.5f;
            if (hue > 1.0f) hue = 0.0f;
            
            sprite.Color = HSVtoRGB(hue, 1.0f, 1.0f);
        }
    }
    
    private Vector4 HSVtoRGB(float h, float s, float v)
    {
        // HSV è½¬ RGB å®ç°
        // ...
    }
}
```

#### 6.6.3 ç‰©ç†äº¤äº’

```csharp
using Hazel;

public class PhysicsController : Entity
{
    private float jumpForce = 10.0f;
    
    protected override void OnUpdate(float ts)
    {
        if (!HasComponent<Rigidbody2DComponent>())
            return;
            
        var rb = GetComponent<Rigidbody2DComponent>();
        
        // è·³è·ƒ
        if (Input.IsKeyPressed(KeyCode.Space))
        {
            rb.ApplyLinearImpulse(new Vector2(0, jumpForce), true);
        }
        
        // æ°´å¹³ç§»åŠ¨
        float moveX = 0.0f;
        if (Input.IsKeyPressed(KeyCode.A))
            moveX = -5.0f;
        if (Input.IsKeyPressed(KeyCode.D))
            moveX = 5.0f;
            
        rb.ApplyLinearImpulse(new Vector2(moveX * ts, 0), true);
    }
}
```

### 6.7 ç›¸æœºæ§åˆ¶

#### 6.7.1 ç¼–è¾‘å™¨ç›¸æœº

```cpp
Hazel::EditorCamera m_EditorCamera;

void OnAttach()
{
    m_EditorCamera = Hazel::EditorCamera(30.0f, 16.0f/9.0f, 0.1f, 1000.0f);
}

void OnUpdate(Hazel::Timestep ts)
{
    m_EditorCamera.OnUpdate(ts);
    
    Hazel::Renderer2D::BeginScene(m_EditorCamera);
    // ... æ¸²æŸ“æ“ä½œ ...
    Hazel::Renderer2D::EndScene();
}
```

#### 6.7.2 æ­£äº¤ç›¸æœºï¼ˆ2Dï¼‰

```cpp
Hazel::OrthographicCamera m_Camera;

void OnAttach()
{
    float aspectRatio = 16.0f / 9.0f;
    m_Camera = Hazel::OrthographicCamera(-aspectRatio, aspectRatio, -1.0f, 1.0f);
}

void OnUpdate(Hazel::Timestep ts)
{
    // ç›¸æœºç§»åŠ¨
    if (Hazel::Input::IsKeyPressed(Hazel::Key::Left))
        m_CameraPosition.x -= m_CameraSpeed * ts;
    if (Hazel::Input::IsKeyPressed(Hazel::Key::Right))
        m_CameraPosition.x += m_CameraSpeed * ts;
        
    m_Camera.SetPosition(m_CameraPosition);
    
    Hazel::Renderer2D::BeginScene(m_Camera);
    // ... æ¸²æŸ“æ“ä½œ ...
    Hazel::Renderer2D::EndScene();
}
```

---

## ä¸ƒã€æ‰©å±•å¼€å‘æŒ‡å—

### 7.1 æ·»åŠ è‡ªå®šä¹‰ç»„ä»¶

#### 7.1.1 å®šä¹‰ç»„ä»¶ç»“æ„

åœ¨ `XingXing/src/XingXing/Scene/Components.h` ä¸­æ·»åŠ ï¼š

```cpp
struct MyCustomComponent
{
    float CustomValue = 0.0f;
    std::string CustomString = "Default";
    
    MyCustomComponent() = default;
    MyCustomComponent(const MyCustomComponent&) = default;
    MyCustomComponent(float value, const std::string& str)
        : CustomValue(value), CustomString(str) {}
};
```

#### 7.1.2 æ³¨å†Œç»„ä»¶åˆ° EnTT

ç»„ä»¶è‡ªåŠ¨é€šè¿‡æ¨¡æ¿æœºåˆ¶æ³¨å†Œï¼Œæ— éœ€é¢å¤–æ“ä½œã€‚

#### 7.1.3 åœ¨ç¼–è¾‘å™¨ä¸­æ˜¾ç¤º

åœ¨ `XingXingnut/src/Panels/SceneHierarchyPanel.cpp` ä¸­æ·»åŠ  UIï¼š

```cpp
if (entity.HasComponent<MyCustomComponent>())
{
    if (ImGui::TreeNodeEx((void*)typeid(MyCustomComponent).hash_code(), 
                          ImGuiTreeNodeFlags_DefaultOpen, "My Custom Component"))
    {
        auto& component = entity.GetComponent<MyCustomComponent>();
        
        ImGui::DragFloat("Custom Value", &component.CustomValue, 0.1f);
        
        char buffer[256];
        strcpy(buffer, component.CustomString.c_str());
        if (ImGui::InputText("Custom String", buffer, sizeof(buffer)))
            component.CustomString = std::string(buffer);
            
        ImGui::TreePop();
    }
}
```

#### 7.1.4 ç»„ä»¶åºåˆ—åŒ–

åœ¨ `XingXing/src/XingXing/Scene/SceneSerializer.cpp` ä¸­æ·»åŠ åºåˆ—åŒ–é€»è¾‘ï¼š

```cpp
// åºåˆ—åŒ–
if (entity.HasComponent<MyCustomComponent>())
{
    out << YAML::Key << "MyCustomComponent";
    out << YAML::BeginMap;
    
    auto& component = entity.GetComponent<MyCustomComponent>();
    out << YAML::Key << "CustomValue" << YAML::Value << component.CustomValue;
    out << YAML::Key << "CustomString" << YAML::Value << component.CustomString;
    
    out << YAML::EndMap;
}

// ååºåˆ—åŒ–
if (auto myCustomComponent = entity["MyCustomComponent"])
{
    auto& component = deserializedEntity.AddOrReplaceComponent<MyCustomComponent>();
    component.CustomValue = myCustomComponent["CustomValue"].as<float>();
    component.CustomString = myCustomComponent["CustomString"].as<std::string>();
}
```

### 7.2 æ·»åŠ æ–°çš„æ¸²æŸ“åŠŸèƒ½

#### 7.2.1 æ‰©å±• Renderer2D

åœ¨ `XingXing/src/XingXing/Renderer/Renderer2D.h` ä¸­å£°æ˜æ–°å‡½æ•°ï¼š

```cpp
// ç»˜åˆ¶ä¸‰è§’å½¢
static void DrawTriangle(const glm::vec3& position, float size, const glm::vec4& color);
```

åœ¨ `Renderer2D.cpp` ä¸­å®ç°ï¼š

```cpp
void Renderer2D::DrawTriangle(const glm::vec3& position, float size, const glm::vec4& color)
{
    glm::mat4 transform = glm::translate(glm::mat4(1.0f), position)
        * glm::scale(glm::mat4(1.0f), {size, size, 1.0f});
        
    // å®ç°ä¸‰è§’å½¢ç»˜åˆ¶é€»è¾‘
    // å¯èƒ½éœ€è¦æ–°çš„é¡¶ç‚¹ç¼“å†²å’Œç€è‰²å™¨
}
```

### 7.3 æ·»åŠ æ–°çš„äº‹ä»¶ç±»å‹

#### 7.3.1 å®šä¹‰äº‹ä»¶ç±»

åœ¨ `XingXing/src/XingXing/Events/` ä¸­åˆ›å»ºæ–°æ–‡ä»¶ `MyCustomEvent.h`ï¼š

```cpp
#pragma once

#include "XingXing/Events/Event.h"

namespace Hazel {

    class MyCustomEvent : public Event
    {
    public:
        MyCustomEvent(int data)
            : m_Data(data) {}
            
        int GetData() const { return m_Data; }
        
        EVENT_CLASS_TYPE(MyCustomEvent)
        EVENT_CLASS_CATEGORY(EventCategoryApplication)
        
    private:
        int m_Data;
    };

}
```

#### 7.3.2 åˆ†å‘äº‹ä»¶

```cpp
MyCustomEvent event(42);
Application::Get().OnEvent(event);
```

#### 7.3.3 å¤„ç†äº‹ä»¶

åœ¨ Layer ä¸­ï¼š

```cpp
void MyLayer::OnEvent(Event& e)
{
    EventDispatcher dispatcher(e);
    dispatcher.Dispatch<MyCustomEvent>(HZ_BIND_EVENT_FN(MyLayer::OnMyCustomEvent));
}

bool MyLayer::OnMyCustomEvent(MyCustomEvent& e)
{
    HZ_INFO("MyCustomEvent received with data: {}", e.GetData());
    return false; // è¿”å› false ç»§ç»­ä¼ æ’­ï¼Œtrue é˜»æ­¢ä¼ æ’­
}
```

### 7.4 æ·»åŠ æ–°çš„å¹³å°æ”¯æŒ

#### 7.4.1 å¹³å°æŠ½è±¡å±‚ç»“æ„

```
XingXing/src/Platform/
â”œâ”€â”€ Windows/         # Windows å¹³å°å®ç°
â”‚   â”œâ”€â”€ WindowsWindow.cpp
â”‚   â”œâ”€â”€ WindowsInput.cpp
â”‚   â””â”€â”€ ...
â”œâ”€â”€ Linux/           # Linux å¹³å°å®ç°ï¼ˆå¾…æ·»åŠ ï¼‰
â””â”€â”€ macOS/           # macOS å¹³å°å®ç°ï¼ˆå¾…æ·»åŠ ï¼‰
```

#### 7.4.2 å®ç°å¹³å°ç‰¹å®šçª—å£

åˆ›å»º `Platform/Linux/LinuxWindow.h`ï¼š

```cpp
#pragma once

#include "XingXing/Core/Window.h"

namespace Hazel {

    class LinuxWindow : public Window
    {
    public:
        LinuxWindow(const WindowProps& props);
        virtual ~LinuxWindow();
        
        void OnUpdate() override;
        
        unsigned int GetWidth() const override { return m_Data.Width; }
        unsigned int GetHeight() const override { return m_Data.Height; }
        
        // ... å…¶ä»–æ–¹æ³•
        
    private:
        virtual void Init(const WindowProps& props);
        virtual void Shutdown();
        
        struct WindowData
        {
            std::string Title;
            unsigned int Width, Height;
            // ...
        };
        
        WindowData m_Data;
        // å¹³å°ç‰¹å®šçª—å£å¥æŸ„
    };

}
```

#### 7.4.3 å¹³å°æ£€æµ‹å®

åœ¨ `XingXing/src/XingXing/Core/PlatformDetection.h` ä¸­ï¼š

```cpp
#ifdef __linux__
    #define HZ_PLATFORM_LINUX
#elif defined(__APPLE__)
    #define HZ_PLATFORM_MACOS
#elif defined(_WIN32)
    #define HZ_PLATFORM_WINDOWS
#else
    #error "Unknown platform!"
#endif
```

### 7.5 æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### 7.5.1 æ¸²æŸ“ä¼˜åŒ–

**æ‰¹å¤„ç†ä¼˜åŒ–ï¼š**

- å°½é‡ä½¿ç”¨ç›¸åŒçº¹ç†çš„ç²¾çµï¼Œå‡å°‘çº¹ç†åˆ‡æ¢
- åˆç†ä½¿ç”¨çº¹ç†å›¾é›†ï¼ˆTexture Atlasï¼‰
- é¿å…é¢‘ç¹çš„ `BeginScene`/`EndScene` è°ƒç”¨

**ç¤ºä¾‹ï¼š**

```cpp
// âŒ ä½æ•ˆï¼šæ¯ä¸ªå®ä½“å•ç‹¬æ¸²æŸ“
for (auto entity : entities)
{
    Renderer2D::BeginScene(camera);
    Renderer2D::DrawQuad(entity.position, entity.size, entity.texture);
    Renderer2D::EndScene();
}

// âœ… é«˜æ•ˆï¼šæ‰¹é‡æ¸²æŸ“
Renderer2D::BeginScene(camera);
for (auto entity : entities)
{
    Renderer2D::DrawQuad(entity.position, entity.size, entity.texture);
}
Renderer2D::EndScene();
```

#### 7.5.2 ECS ä¼˜åŒ–

**åˆ©ç”¨ EnTT çš„è§†å›¾ï¼ˆViewï¼‰ï¼š**

```cpp
// âœ… é«˜æ•ˆï¼šä¸€æ¬¡éå†å¤šä¸ªç»„ä»¶
auto view = scene->GetAllEntitiesWith<TransformComponent, SpriteRendererComponent>();
for (auto entity : view)
{
    auto [transform, sprite] = view.get<TransformComponent, SpriteRendererComponent>(entity);
    // å¤„ç†é€»è¾‘
}
```

#### 7.5.3 å†…å­˜ç®¡ç†

- ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆ`Ref<T>` = `std::shared_ptr<T>`ï¼‰
- é¿å…é¢‘ç¹çš„å†…å­˜åˆ†é…
- è€ƒè™‘å¯¹è±¡æ± æ¨¡å¼ï¼ˆObject Poolï¼‰

### 7.6 è°ƒè¯•æŠ€å·§

#### 7.6.1 ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿ

```cpp
#include "XingXing/Core/Log.h"

// æ ¸å¿ƒæ—¥å¿—ï¼ˆå¼•æ“å†…éƒ¨ä½¿ç”¨ï¼‰
HZ_CORE_TRACE("Trace message");
HZ_CORE_INFO("Info message");
HZ_CORE_WARN("Warning message");
HZ_CORE_ERROR("Error message");

// å®¢æˆ·ç«¯æ—¥å¿—ï¼ˆæ¸¸æˆä»£ç ä½¿ç”¨ï¼‰
HZ_TRACE("Trace message");
HZ_INFO("Info message");
HZ_WARN("Warning message");
HZ_ERROR("Error message");

// æ ¼å¼åŒ–è¾“å‡º
HZ_INFO("Player position: {}, {}", player.x, player.y);
```

#### 7.6.2 æ€§èƒ½åˆ†æ

ä½¿ç”¨å†…ç½®çš„è®¡æ—¶å™¨ï¼š

```cpp
#include "XingXing/Core/Timer.h"

{
    Timer timer("MyFunction");
    // ... éœ€è¦è®¡æ—¶çš„ä»£ç  ...
} // timer ææ„æ—¶è‡ªåŠ¨è¾“å‡ºè€—æ—¶
```

#### 7.6.3 è°ƒè¯•æ¸²æŸ“

å¯ç”¨ç‰©ç†è°ƒè¯•ç»˜åˆ¶ï¼š

```cpp
scene->SetDebugDrawEnabled(true); // æ˜¾ç¤ºç¢°æ’ä½“è¾¹ç•Œ
```

### 7.7 æœ€ä½³å®è·µ

#### 7.7.1 ä»£ç ç»„ç»‡

- **éµå¾ªå•ä¸€èŒè´£åŸåˆ™**ï¼šæ¯ä¸ªç±»åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
- **ä½¿ç”¨å‘½åç©ºé—´**ï¼šæ‰€æœ‰å¼•æ“ä»£ç åœ¨ `Hazel` å‘½åç©ºé—´
- **å¤´æ–‡ä»¶ä¿æŠ¤**ï¼šä½¿ç”¨ `#pragma once`
- **å‰å‘å£°æ˜**ï¼šå‡å°‘å¤´æ–‡ä»¶ä¾èµ–

#### 7.7.2 èµ„æºç®¡ç†

- **ä½¿ç”¨ç›¸å¯¹è·¯å¾„**ï¼šèµ„æºè·¯å¾„ç›¸å¯¹äºé¡¹ç›®èµ„æºç›®å½•
- **èµ„æºé¢„åŠ è½½**ï¼šåœ¨ `OnAttach()` ä¸­åŠ è½½èµ„æº
- **é¿å…é‡å¤åŠ è½½**ï¼šä½¿ç”¨èµ„æºç¼“å­˜æœºåˆ¶

#### 7.7.3 æ€§èƒ½è€ƒè™‘

- **é¿å…åœ¨ `OnUpdate()` ä¸­åˆ†é…å†…å­˜**
- **ä½¿ç”¨å¯¹è±¡æ± ç®¡ç†é¢‘ç¹åˆ›å»º/é”€æ¯çš„å¯¹è±¡**
- **åˆç†ä½¿ç”¨ç»„ä»¶**ï¼šä¸è¦ä¸ºæ¯ä¸ªå®ä½“æ·»åŠ ä¸å¿…è¦çš„ç»„ä»¶
- **åˆ†å¸§å¤„ç†**ï¼šè€—æ—¶æ“ä½œåˆ†æ•£åˆ°å¤šå¸§

#### 7.7.4 ç‰ˆæœ¬æ§åˆ¶

- **å¿½ç•¥ç”Ÿæˆæ–‡ä»¶**ï¼šç¡®ä¿ `.gitignore` åŒ…å« `bin/`ã€`bin-int/`ã€`*.sln`ã€`*.vcxproj`
- **æäº¤æœ‰æ„ä¹‰çš„æ¶ˆæ¯**ï¼šæ¸…æ™°æè¿°æ¯æ¬¡æäº¤çš„å˜æ›´
- **ä½¿ç”¨åˆ†æ”¯**ï¼šåŠŸèƒ½å¼€å‘ä½¿ç”¨ç‹¬ç«‹åˆ†æ”¯

### 7.8 ç¤¾åŒºä¸è´¡çŒ®

#### 7.8.1 æŠ¥å‘Šé—®é¢˜

åœ¨ [GitHub Issues](https://github.com/xiaoheid-dunkel/XingXing/issues) æäº¤é—®é¢˜æ—¶ï¼Œè¯·æä¾›ï¼š

- æ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬
- Visual Studio ç‰ˆæœ¬
- è¯¦ç»†çš„å¤ç°æ­¥éª¤
- é”™è¯¯æ—¥å¿—æˆ–æˆªå›¾

#### 7.8.2 è´¡çŒ®ä»£ç 

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼ˆ`git checkout -b feature/AmazingFeature`ï¼‰
3. æäº¤æ›´æ”¹ï¼ˆ`git commit -m 'Add some AmazingFeature'`ï¼‰
4. æ¨é€åˆ°åˆ†æ”¯ï¼ˆ`git push origin feature/AmazingFeature`ï¼‰
5. å¼€å¯ Pull Request

#### 7.8.3 ä»£ç è§„èŒƒ

- éµå¾ªç°æœ‰ä»£ç é£æ ¼
- ä½¿ç”¨ Tab ç¼©è¿›ï¼ˆ4 ç©ºæ ¼å®½åº¦ï¼‰
- ç±»åä½¿ç”¨å¤§é©¼å³°ï¼ˆPascalCaseï¼‰
- å‡½æ•°å’Œå˜é‡ä½¿ç”¨å¤§é©¼å³°
- æˆå‘˜å˜é‡å‰ç¼€ `m_`
- é™æ€å˜é‡å‰ç¼€ `s_`

---

## é™„å½•

### A. å¸¸ç”¨å¿«æ·é”®ï¼ˆXingXingnut ç¼–è¾‘å™¨ï¼‰

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl + N` | æ–°å»ºåœºæ™¯ |
| `Ctrl + O` | æ‰“å¼€åœºæ™¯ |
| `Ctrl + S` | ä¿å­˜åœºæ™¯ |
| `Ctrl + Shift + S` | å¦å­˜ä¸º |
| `Ctrl + D` | å¤åˆ¶å®ä½“ |
| `Del` | åˆ é™¤é€‰ä¸­å®ä½“ |
| `W` | ç§»åŠ¨å·¥å…· |
| `E` | æ—‹è½¬å·¥å…· |
| `R` | ç¼©æ”¾å·¥å…· |
| `F` | èšç„¦åˆ°é€‰ä¸­å®ä½“ |
| `Space` | æ’­æ”¾/æš‚åœåœºæ™¯ |

### B. é¡¹ç›®ç»“æ„è¯´æ˜

```
XingXing/
â”œâ”€â”€ XingXing/                  # å¼•æ“æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ XingXing/
â”‚   â”‚   â”‚   â”œâ”€â”€ Core/         # æ ¸å¿ƒåŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ Renderer/     # æ¸²æŸ“ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ Scene/        # åœºæ™¯ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ Physics/      # ç‰©ç†ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ Scripting/    # è„šæœ¬ç³»ç»Ÿ
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ Platform/         # å¹³å°ç›¸å…³å®ç°
â”‚   â””â”€â”€ vendor/               # ç¬¬ä¸‰æ–¹åº“
â”‚
â”œâ”€â”€ XingXing-ScriptCore/       # C# è„šæœ¬æ ¸å¿ƒåº“
â”‚   â””â”€â”€ Source/
â”‚       â””â”€â”€ Hazel/            # C# API å°è£…
â”‚
â”œâ”€â”€ XingXingnut/               # å¯è§†åŒ–ç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ Panels/           # UI é¢æ¿
â”‚   â”‚   â””â”€â”€ EditorLayer.cpp   # ç¼–è¾‘å™¨ä¸»é€»è¾‘
â”‚   â””â”€â”€ SandboxProject/       # ç¤ºä¾‹é¡¹ç›®
â”‚
â”œâ”€â”€ Sandbox/                   # æµ‹è¯•æ²™ç›’é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â””â”€â”€ assets/
â”‚
â”œâ”€â”€ scripts/                   # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ Setup.py
â”‚   â””â”€â”€ Win-GenProjects.bat
â”‚
â”œâ”€â”€ Dependencies.lua           # ä¾èµ–é…ç½®
â”œâ”€â”€ premake5.lua              # Premake é…ç½®
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
```

### C. ç›¸å…³èµ„æºé“¾æ¥

- **Hazel2D åŸå§‹é¡¹ç›®**ï¼š[https://github.com/TheCherno/Hazel](https://github.com/TheCherno/Hazel)
- **TheCherno æ¸¸æˆå¼•æ“ç³»åˆ—æ•™ç¨‹**ï¼š[YouTube Playlist](https://www.youtube.com/playlist?list=PLlrATfBNZ98dC-V-N3m0Go4deliWHPFwT)
- **EnTT æ–‡æ¡£**ï¼š[https://github.com/skypjack/entt](https://github.com/skypjack/entt)
- **Box2D æ–‡æ¡£**ï¼š[https://box2d.org/documentation/](https://box2d.org/documentation/)
- **ImGui æ–‡æ¡£**ï¼š[https://github.com/ocornut/imgui](https://github.com/ocornut/imgui)
- **Premake5 æ–‡æ¡£**ï¼š[https://premake.github.io/docs/](https://premake.github.io/docs/)

### D. è®¸å¯åè®®

æœ¬é¡¹ç›®åŸºäºè‡ªå®šä¹‰è®¸å¯åè®®å¼€æºï¼Œè¯¦è§ [LICENSE](../LICENSE) æ–‡ä»¶ã€‚

**æ ¸å¿ƒè¦ç‚¹ï¼š**

- âœ… å…è®¸ï¼šå­¦ä¹ ã€ç ”ç©¶ã€éå•†ä¸šæ€§è´¨çš„æ¨¡ç»„å¼€å‘
- âŒ ç¦æ­¢ï¼šå•†ä¸šä½¿ç”¨ã€æ¢å£³å‘å¸ƒ
- ğŸ“ è¦æ±‚ï¼šä¿ç•™åŸé¡¹ç›®å’Œ Hazel2D çš„è‡´è°¢å£°æ˜

---

## ç»“è¯­

XingXingï¼ˆè¡Œæ˜Ÿå¼•æ“ï¼‰è‡´åŠ›äºä¸ºç‹¬ç«‹æ¸¸æˆå¼€å‘è€…å’Œæ¨¡ç»„åˆ›ä½œè€…æä¾›ä¸€ä¸ªå¼ºå¤§ã€é€æ˜ã€æ˜“äºæ‰©å±•çš„ 2D æ¸¸æˆå¼•æ“ã€‚æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†å¼•æ“çš„æ–¹æ–¹é¢é¢ï¼Œä»æ¶æ„è®¾è®¡åˆ° API ä½¿ç”¨ï¼Œä»éƒ¨ç½²é…ç½®åˆ°æ‰©å±•å¼€å‘ã€‚

æˆ‘ä»¬é¼“åŠ±å¼€å‘è€…ï¼š

1. **æ·±å…¥å­¦ä¹ **ï¼šé€šè¿‡é˜…è¯»æºç ç†è§£æ¸¸æˆå¼•æ“çš„å®ç°åŸç†
2. **ç§¯æå®è·µ**ï¼šä½¿ç”¨ XingXing åˆ›ä½œè‡ªå·±çš„æ¸¸æˆæˆ–æ¨¡ç»„
3. **ç¤¾åŒºå‚ä¸**ï¼šåˆ†äº«ç»éªŒã€æŠ¥å‘Šé—®é¢˜ã€è´¡çŒ®ä»£ç 
4. **å°Šé‡åŸåˆ›**ï¼šéµå®ˆå¼€æºåè®®ï¼Œä¿æŒå¯¹åŸä½œè€…çš„å°Šé‡

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ [GitHub Issues](https://github.com/xiaoheid-dunkel/XingXing/issues) ä¸æˆ‘ä»¬è”ç³»ã€‚

**ç¥ä½ åœ¨æ¸¸æˆå¼€å‘çš„æ—…ç¨‹ä¸­æ”¶è·æ»¡æ»¡ï¼** ğŸ®âœ¨

---

*æœ€åæ›´æ–°ï¼š2026-01-31*  
*æ–‡æ¡£ç‰ˆæœ¬ï¼š1.0*  
*å¼•æ“ç‰ˆæœ¬ï¼šåŸºäº Hazel2D å®šåˆ¶ç‰ˆæœ¬*
